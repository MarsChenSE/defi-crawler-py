{
  "protocol": {
    "name": "Compound",
    "type": "Lending",
    "version": 2,
    "chain": "Ethereum",
    "endpoint": {
      "ethereum": "https://api.thegraph.com/subgraphs/name/graphprotocol/compound-v2"
    }
  },
  "entities": {
    "borrow": {
      "attributes": {
        "user": [
          "borrower"
        ],
        "token": [
          "underlyingSymbol"
        ],
        "amount": [
          "amount"
        ],
        "timestamp": [
          "blockTime"
        ]
      },
      "query": {
        "extra_fields": {},
        "name": "borrowEvents",
        "params": {
          "orderBy": "blockTime"
        }
      },
      "transformations": {}
    },
    "deposit": {
      "attributes": {
        "user": [
          "to"
        ],
        "token": [
          "cTokenSymbol"
        ],
        "amount": [
          "underlyingAmount"
        ],
        "timestamp": [
          "blockTime"
        ]
      },
      "query": {
        "name": "mintEvents",
        "extra_fields": {},
        "params": {
          "orderBy": "blockTime"
        }
      },
      "transformations": {
        "token": "remove_token_prefix"
      }
    },
    "liquidation": {
      "attributes": {
        "user": [
          "from"
        ],
        "token_principal": [
          "underlyingSymbol"
        ],
        "token_collateral": [
          "cTokenSymbol"
        ],
        "amount_principal": [
          "underlyingRepayAmount"
        ],
        "amount_collateral": [
          "amount"
        ],
        "liquidator": [
          "to"
        ],
        "timestamp": [
          "blockTime"
        ]
      },
      "query": {
        "extra_fields": {},
        "name": "liquidationEvents",
        "params": {
          "orderBy": "blockTime"
        }
      },
      "transformations": {
        "token_collateral": "remove_token_prefix"
      }
    },
    "repay": {
      "attributes": {
        "user": [
          "payer"
        ],
        "token": [
          "underlyingSymbol"
        ],
        "amount": [
          "amount"
        ],
        "timestamp": [
          "blockTime"
        ]
      },
      "query": {
        "name": "repayEvents",
        "extra_fields": {},
        "params": {
          "orderBy": "blockTime"
        }
      },
      "transformations": []
    },
    "user": {
      "attributes": {
        "user_id": [
          "id"
        ],
        "active_loans": [
          "tokens",
          "totalUnderlyingBorrowed"
        ],
        "liquidations_count": [
          "countLiquidated"
        ]
      },
      "query": {
        "name": "accounts",
        "extra_fields": {},
        "params": {
          "orderBy": "id",
          "initial_value": "0"
        }
      },
      "transformations": {
        "active_loans": "array_length"
      }
    },
    "user_position": {
      "attributes": {
        "user_id": [
          "user",
          "id"
        ],
        "symbol": [
          "reserve",
          "symbol"
        ],
        "debt_amount": [
          "currentTotalDebt"
        ],
        "collateral_amount": [
          "currentATokenBalance"
        ]
      },
      "query": {
        "name": "userReserves",
        "extra_fields": {},
        "params": {
          "user": "user"
        }
      },
      "transformations": []
    }
  }
}